Introducing qubit phase
=======================

In the last two sections we have covered the bit-flip and the Hadamard gate. 
These allow us to to make the single qubit quantum states 
:math:`\{|0\rangle, |1\rangle, |+\rangle, |-\rangle\}`. These states have allowed 
us to introduce classical bit flips, and quantum superpositions. However, a general 
single qubit quantum state is much more rich. As we have already mentioned a 
single qubit quantum state can be written as 
:math:`|\psi\rangle=\alpha |0\rangle + \beta |1\rangle`, where 
:math:`\alpha` and :math:`\beta`
are complex numbers with the probability constraint 
:math:`|\alpha|^2+|\beta|^2=1`. Furthermore, the global phase of a quantum 
state is not detectable thereby :math:`|\psi\rangle` is the same as 
:math:`e^{i\gamma}|\psi\rangle`.

An alternative representation that takes both of these into account allows us to 
write a general single qubit state as 

.. math:: 
  ~~~~~~~~|\psi\rangle = \cos(\theta/2)|0\rangle + e^{i\phi} \sin(\theta/2) |1\rangle

where :math:`0\leq \phi < 2\pi` and :math:`0 \leq \theta \leq \pi`. The set 
of quantum gates, generated by :math:`\{H,T\}` makes it possible to reach all different
values of :math:`\theta` and :math:`\phi`. In the later sections we will 
show how this can be done in principle and introduce the advance gates
in the IBM Q experience to give finer control. But first we would like 
to build up intuition of quantum phase by looking at the :math:`T` gate. 
The :math:`T` gate applies a 
phase of :math:`\pi/4` and has a matrix representation of

.. math:: 
  ~~~~~~~~T =\begin{pmatrix} 1 & 0 \\ 0 & e^{i\pi/4} \end{pmatrix}

If we start with a system initially in the :math:`|+\rangle` (which is done using the 
Hadamard) then apply multiples of the :math:`T` gate and measuring in the 
x-basis we can map out this phase. These experiments are defined by the following 8 scores:

.. raw:: html

  OpenQasm Input

.. literalinclude:: ../../../qiskit/openqasm/quantum_phase_exp_0.qasm
  :language: c++
  :linenos:

.. raw:: html

  OpenQasm Input

.. literalinclude:: ../../../qiskit/openqasm/quantum_phase_exp_1.qasm
  :language: c++
  :linenos:

.. raw:: html

  OpenQasm Input

.. literalinclude:: ../../../qiskit/openqasm/quantum_phase_exp_2.qasm
  :language: c++
  :linenos:

.. raw:: html

  OpenQasm Input

.. literalinclude:: ../../../qiskit/openqasm/quantum_phase_exp_3.qasm
  :language: c++
  :linenos:

.. raw:: html

  OpenQasm Input

.. literalinclude:: ../../../qiskit/openqasm/quantum_phase_exp_4.qasm
  :language: c++
  :linenos:

.. raw:: html

  OpenQasm Input

.. literalinclude:: ../../../qiskit/openqasm/quantum_phase_exp_5.qasm
  :language: c++
  :linenos:

.. raw:: html

  OpenQasm Input

.. literalinclude:: ../../../qiskit/openqasm/quantum_phase_exp_6.qasm
  :language: c++
  :linenos:

.. raw:: html

  OpenQasm Input

.. literalinclude:: ../../../qiskit/openqasm/quantum_phase_exp_7.qasm
  :language: c++
  :linenos:

.. raw:: html

  <a href="https://qiskit.org"  target="_blank">QISKit</a> example

.. literalinclude:: ../../../qiskit/python/quantum_phase.py
  :language: python
  :linenos:

Here we start to see the advantage of QISKit as we can simply loop over the different 
circuits.

The results are summarized in the following table where X length is the result of 
probability 0 minus probability 1. You can think of it as the length of the x measurement.

+---------------+---------------+-------------+-----------+-----------+-----------+
|Experiment     | Phase angle   | Gates       | Prop 0    | Prob 1    | X length  |
+===============+===============+=============+===========+===========+===========+
| 0             | 0             |             | 1         | 0         | 1         |
+---------------+---------------+-------------+-----------+-----------+-----------+
| 1             | :math:`\pi/4` | :math:`T`   | 0.8535533 | 0.1464466 | 0.7071067 |
+---------------+---------------+-------------+-----------+-----------+-----------+
| 2             | :math:`\pi/2` | :math:`T^2` | 0.5       | 0.5       | 0         |
+---------------+---------------+-------------+-----------+-----------+-----------+
| 3             | :math:`3\pi/4`| :math:`T^3` | 0.1464466 | 0.8535533 | -0.707106 |
+---------------+---------------+-------------+-----------+-----------+-----------+
| 4             | :math:`\pi`   | :math:`T^4` | 0         | 1         | -1        |
+---------------+---------------+-------------+-----------+-----------+-----------+
| 5             | :math:`5\pi/4`| :math:`T^5` |0.8535533  | 0.1464466 | 0.7071067 |
+---------------+---------------+-------------+-----------+-----------+-----------+
| 6             | :math:`3\pi/2`| :math:`T^6` | 0.5       | 0.5       | 0         |
+---------------+---------------+-------------+-----------+-----------+-----------+
| 7             | :math:`7\pi/4`| :math:`T^7` | 0.1464466 | 0.8535533 | -0.707106 |
+---------------+---------------+-------------+-----------+-----------+-----------+


Before we move onto the more advance gates you have most likely noticed that 
there are additional gates :math:`\{Y,Z,S,S^\dagger,` and :math:`T^\dagger\}` 
and a CNOT (that will will touch later) available in the composer. 
All of these gates can be built from the :math:`\{H,T,` and :math:`X\}`. 

.. math:: 
  ~~~~~~~~S =\begin{pmatrix} 1 & 0 \\ 0 & i \end{pmatrix} := T^2,
  ~~~~~~~~Z =\begin{pmatrix} 1 & 0 \\ 0 & -1 \end{pmatrix} := T^4,
  ~~~~~~~~S^\dagger =\begin{pmatrix} 1 & 0 \\ 0 & -i \end{pmatrix} := T^6,
  ~~~~~~~~T^\dagger =\begin{pmatrix} 1 & 0 \\ 0 & e^{-i\pi/4} \end{pmatrix} := T^7
  ~~~~~~~~Y =\begin{pmatrix} 0 & -i \\ i & 0 \end{pmatrix} := XZ

The coloring is denote the group properties. All the green gates form a group which 
is known as the Pauli group and can be made by :math:`\{X, Z\}`. The blue set 
form a group which is known Clifford group and can be made by 
:math:`\{H, S\}` (Note the Pauli group 
can be made using these). Finally the red gates are the non-Clifford gates. 

Now we have a good understanding of the standard gates we can define a third basis, the *circular* (or :math:`Y`) basis:
:math:`|\circlearrowright\rangle =
\frac{1}{\sqrt{2}}(|0\rangle+i|1\rangle)`, :math:`|\circlearrowleft\rangle
= \frac{1}{\sqrt{2}}(|0\rangle-i|1\rangle)`. To make the
:math:`|\circlearrowright\rangle` state from the math:`|0 \rangle` state 
use a :math:`H` gate 
followed by an :math:`S` gate. Try to figure out how to
get the :math:`|\circlearrowleft\rangle` on your own. 

To measure in this basis, we must rotate the computation basis
(:math:`Z`) to the circular basis (:math:`Y`). To do this, use an :math:`S^\dagger`
followed by :math:`H` before your measurement. An example score is below (the other 7 
would be similar to before) and a QISKit
example to map out the quantum phase experiment above projected into the 
circular basis. 

.. raw:: html

  OpenQasm Input

.. literalinclude:: ../../../qiskit/openqasm/quantum_phase_meas_y.qasm
  :language: c++
  :linenos:

.. raw:: html

  <a href="https://qiskit.org"  target="_blank">QISKit</a> example

.. literalinclude:: ../../../qiskit/python/quantum_phase_meas_y.py
  :language: python
  :linenos:

+---------------+---------------+-------------+-----------+-----------+-----------+
|Experiment     | Phase angle   | Gates       | Prop 0    | Prob 1    | Y length  |
+===============+===============+=============+===========+===========+===========+
| 0             | 0             |             | 0.5       | 0.5       | 0         |
+---------------+---------------+-------------+-----------+-----------+-----------+
| 1             | :math:`\pi/4` | :math:`T`   | 0.8535533 | 0.1464466 | 0.7071067 |
+---------------+---------------+-------------+-----------+-----------+-----------+
| 2             | :math:`\pi/2` | :math:`T^2` | 1.0       | 0         | 1         |
+---------------+---------------+-------------+-----------+-----------+-----------+
| 3             | :math:`3\pi/4`| :math:`T^3` | 0.8535533 | 0.1464466 | 0.7071067 |
+---------------+---------------+-------------+-----------+-----------+-----------+
| 4             | :math:`\pi`   | :math:`T^4` | 0.5       | 0.5       | 0         |
+---------------+---------------+-------------+-----------+-----------+-----------+
| 5             | :math:`5\pi/4`| :math:`T^5` | 0.1464466 | 0.8535533 | -0.707107 |
+---------------+---------------+-------------+-----------+-----------+-----------+
| 6             | :math:`3\pi/2`| :math:`T^6` | 0         | 1         | -1        |
+---------------+---------------+-------------+-----------+-----------+-----------+
| 7             | :math:`7\pi/4`| :math:`T^7` | 0.1464466 | 0.8535533 | -0.707106 |
+---------------+---------------+-------------+-----------+-----------+-----------+